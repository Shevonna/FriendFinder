<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tables Page</title>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body>

  <div class="container">

    
      <h1>Survey questions</h1>
      <hr>
      <h2>About You</h2>
      <div class="card-body">
        <form role="form">
          <div class="form-group">
            <label for="reserve-name">Name</label>
            <input type="text" class="form-control" id="reserve-name">
          </div>
          <div class="form-group">
            <label for="reserve-phone">Link to Image</label>
            <input type="text" class="form-control" id="reserve-image">
          </div>
          <hr>

          <div class="form-group">
            <h3>Question 1</h3>
            <label for="q1">Online dating is an effective way to meet people.</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>
           <div class="form-group">
            <h3>Question 2</h3>
            <label for="q2">I feel that people that use online dating are looking for a long-term relationship.</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>
           <div class="form-group">
            <h3>Question 3</h3>
            <label for="q3">Online dating is more effective than being set up with someone on a blind date.</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>
           <div class="form-group">
            <h3>Question 4</h3>
            <label for="q4">Online dating is a trustworthy way to learn about people.</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>
           <div class="form-group">
            <h3>Question 5</h3>
            <label for="q5">Your mind is always buzzing with unexplored ideas and plans.</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>
           <div class="form-group">
            <h3>Question 6</h3>
            <label for="q6">You find it easy to stay relaxed and focused even when there is some pressure.</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>
           <div class="form-group">
            <h3>Question 7</h3>
            <label for="q7">People can rarely upset you.</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>
           <div class="form-group">
            <h3>Question 8</h3>
            <label for="q8">In a discussion, truth should be more important than peopleâ€™s sensitivities.</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>
           <div class="form-group">
            <h3>You rarely get carried away by fantasies and ideas.</h3>
            <label for="q9">Question 1</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>
           <div class="form-group">
            <h3>Question 10</h3>
            <label for="q10">You feel more energetic after spending time with a group of people.</label>
            <select class="custom-select custom-select-sm">
                <option selected>Select an Option</option>
                <option value="1">1(Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5(Strongly Agree)</option>
              </select>
          </div>

        
         
          <button type="button" class="btn btn-primary btn-lg btn-block">Submit!</button>
        </form>
      </div>
      <hr>


    

    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Survey Link</a> | <a href="./home.html">Home Link</a>
      </div>
    </footer>

  </div>


</body>
<script>

$(".submit").on("click", function(event) {
    event.preventDefault();

    // Here we grab the form elements
    var newSurvey = {
      name: $("#reserve-name").val().trim(),
      photoLink: $("#reserve-image").val().trim(),
      scores: $(".option").val(),
      
    };

    console.log(newSurvey);

function runFriendQuery() {
    // The AJAX function uses the URL of our API to GET the data associated with it (initially set to localhost)
    $.ajax({ url: "/api/friends", method: "GET" })
      .then(function(friendsData) {

        // Here we then log the friendsData to console, where it will show up as an object.
        console.log(friendsData);
        console.log("------------------------------------");

        // Loop through and display each of the customers
        for (var i = 0; i < friendsData.length; i++) {

          // Get a reference to the friendList element and populate it with tables
          var friendList = $("#friendList");

          // Then display the fields in the HTML (Section Name, Date, URL)
          var listItem = $("<li class='list-group-item mt-4'>");

          listItem.append( 
            $("<h2>").text("Name: " + friendsData[i].name),
            $("<h2>").text("Email: " + friendsData[i].photoLink),
            $("<h2>").text("Phone: " + friendsData[i].scores)
          );

          friendList.append(listItem);
        }
      });
  }

  
  // This function resets all of the data in our tables. This is intended to let you restart a demo.
  function clearTable() {
    alert("Clearing...");

    // Clear the tables on the server and then empty the elements on the client
    $.ajax({ url: "/api/clear", method: "POST" }).then(function() {
      $("#friendList").empty();
    });
  }

  $("#clear").on("click", clearTable);



  runFriendQuery();

</script>

</html>


